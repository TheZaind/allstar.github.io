<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Quiz Selection Menu -->
    <div id="quiz-selection-menu" class="quiz-selection-menu">
        <h2>🎮 Wähle dein Quiz</h2>
        <div id="quiz-categories" class="quiz-categories">
            <!-- Wird dynamisch gefüllt -->
        </div>
    </div>

    <!-- Progress Steps Template -->
    <template id="progress-steps-template">
        <div class="progress-container">
            <div class="progress-step" data-step="1">1</div>
            <div class="progress-step" data-step="2">2</div>
            <div class="progress-step" data-step="3">3</div>
            <div class="progress-step" data-step="4">4</div>
            <div class="progress-step" data-step="5">5</div>
            <div class="progress-line">
                <div class="progress-line-fill"></div>
            </div>
        </div>
    </template>

    <div id="quiz-content" style="display: none;">
        <div class="fixed-header">
            <div class="header-container">
                <div class="level-info" data-tooltip="Dein aktuelles Level und Fortschritt">
                    Maurice´s-Learning-Game Level: <span id="level">1</span> 🌟
                </div>
                <div class="streak-counter" data-tooltip="Deine aktuelle Antwortserie">
                    <span id="streak-text">Aktuelle Serie: 0</span>
                    <span class="streak-flame" id="streak-flame">🔥</span>
                </div>
                <div id="progress-steps"></div>
                <div id="feedback-message"></div>
            </div>
        </div>
        
        <div class="controls">
            <button onclick="backToMenu()" class="back-button" data-tooltip="Zurück zur Quiz-Auswahl">
                ↩️ Zurück zum Menü
            </button>
            <button onclick="toggleTheme()" id="theme-toggle" data-tooltip="Wechsel zwischen Hell/Dunkel Modus">
                🌓 Dark/Light Mode
            </button>
            <button onclick="newQuiz()" data-tooltip="Starte ein neues Quiz mit zufälligen Fragen">
                🔄 Neues Quiz
            </button>
            <button onclick="toggleStats()" data-tooltip="Zeige deine Quiz-Statistiken">
                📊 Statistiken
            </button>
            <button onclick="toggleTimerMode()" id="timer-toggle" data-tooltip="Aktiviere den Timer für extra Herausforderung">
                ⏱️ Zeitmodus
            </button>
        </div>

        <h1>💻 Hardware Quiz - Maurice Fragt dich! 💁🏻‍♂️</h1>
        
        <!-- Timer Container -->
        <div class="timer-container" id="timer-container" style="display: none;">
            <div class="timer-bar" id="timer-bar"></div>
            <div class="time-bonus-indicator" id="time-bonus">+5 XP</div>
            <div class="timer-mode-badge">⏱️ ZEITMODUS</div>
        </div>
        
        <!-- Hinweis-System -->
        <div class="hint-container">
            <div class="hint-coins" data-tooltip="Sammle Münzen durch richtige Antworten">
                <span class="hint-coins-icon">🪙</span>
                <span id="hint-coins-count">0</span> Münzen
            </div>
            <div class="hint-buttons">
                <button class="hint-button" onclick="buyPowerUp('removeWrong')" data-tooltip="Entfernt 2 falsche Antwortmöglichkeiten">
                    <span class="hint-button-icon">❌</span> 2 Falsche entfernen (10 🪙)
                </button>
                <button class="hint-button" onclick="buyPowerUp('showHint')" data-tooltip="Zeigt einen hilfreichen Tipp">
                    <span class="hint-button-icon">💡</span> Hinweis zeigen (5 🪙)
                </button>
                <button class="hint-button" onclick="buyPowerUp('extraTime')" data-tooltip="Fügt 15 Sekunden zur Timer-Zeit hinzu">
                    <span class="hint-button-icon">⏱️</span> Extra Zeit (8 🪙)
                </button>
            </div>
        </div>
        
        <!-- Power-Ups -->
        <div class="power-ups">
            <div class="power-up" onclick="usePowerUp('removeWrong')" data-tooltip="Klicken zum Verwenden">
                <span class="power-up-icon">❌</span> 2 Falsche
                <span class="power-up-count" id="removeWrong-count">0</span>
            </div>
            <div class="power-up" onclick="usePowerUp('showHint')" data-tooltip="Klicken zum Verwenden">
                <span class="power-up-icon">💡</span> Hinweis
                <span class="power-up-count" id="showHint-count">0</span>
            </div>
            <div class="power-up" onclick="usePowerUp('extraTime')" data-tooltip="Klicken zum Verwenden">
                <span class="power-up-icon">⏱️</span> Extra Zeit
                <span class="power-up-count" id="extraTime-count">0</span>
            </div>
        </div>
        
        <!-- Tägliche Herausforderung -->
        <div class="daily-challenge" id="daily-challenge" data-tooltip="Schließe die tägliche Herausforderung für Bonus-XP ab">
            <h3>Tägliche Herausforderung</h3>
            <p id="daily-challenge-desc">Beantworte 5 Fragen richtig in einem Quiz</p>
            <div class="daily-challenge-status" id="daily-challenge-status">0/5 geschafft</div>
            <div class="daily-challenge-reward" id="daily-challenge-reward">Belohnung: 50 XP</div>
        </div>
        
        <!-- Login Streak -->
        <div class="login-streak" id="login-streak" data-tooltip="Logge dich täglich ein für zusätzliche Belohnungen">
            <!-- Wird dynamisch gefüllt -->
        </div>
        
        <div id="quiz-container"></div>
        
        <div class="score-container" data-tooltip="Deine aktuelle Punktzahl und XP-Fortschritt">
            <div class="score" id="score">Punktzahl: 0 Punkte 📊</div>
            <div id="xp-display" data-tooltip="XP bis zum nächsten Level">XP: 0/100</div>
        </div>
        
        <div class="total-xp" data-tooltip="Deine insgesamt gesammelten XP">
            Gesamt-XP: <span id="total-xp">0</span>
        </div>
        
        <!-- Fortschrittspfad -->
        <div class="progress-path" data-tooltip="Dein Fortschritt auf dem Weg zum Meister">
            <h3>Dein Lernfortschritt 📚</h3>
            <div class="progress-path-line">
                <div class="progress-path-fill" id="progress-path-fill"></div>
                <div class="progress-milestone" style="left: 10%" id="milestone-1" data-tooltip="Anfänger - 100 XP">🥉</div>
                <div class="progress-milestone" style="left: 30%" id="milestone-2" data-tooltip="Fortgeschritten - 350 XP">🥈</div>
                <div class="progress-milestone" style="left: 60%" id="milestone-3" data-tooltip="Profi - 750 XP">🥇</div>
                <div class="progress-milestone" style="left: 90%" id="milestone-4" data-tooltip="Meister - 1500 XP">👑</div>
            </div>
            <div id="path-status" class="path-status"></div>
        </div>
        
        <div class="badge-container" id="badge-container">
            <div class="badge" id="badge-beginner" data-tooltip="Erreiche 100 XP für diesen Badge">
                <div class="badge-icon">🥉</div>
                <div class="badge-name">Anfänger (100 XP)</div>
            </div>
            <div class="badge" id="badge-intermediate" data-tooltip="Erreiche 350 XP für diesen Badge">
                <div class="badge-icon">🥈</div>
                <div class="badge-name">Fortgeschritten (350 XP)</div>
            </div>
            <div class="badge" id="badge-advanced" data-tooltip="Erreiche 750 XP für diesen Badge">
                <div class="badge-icon">🥇</div>
                <div class="badge-name">Profi (750 XP)</div>
            </div>
            <div class="badge" id="badge-master" data-tooltip="Erreiche 1500 XP für diesen Badge">
                <div class="badge-icon">👑</div>
                <div class="badge-name">Meister (1500 XP)</div>
            </div>
        </div>
        
        <div class="stats-container hidden" id="stats-container">
            <h2>Deine Statistiken 📈</h2>
            <p>Gespielte Quizze: <span id="total-quizzes">0</span></p>
            <p>Korrekte Antworten: <span id="total-correct">0</span></p>
            <p>Durchschnittliche Punktzahl: <span id="average-score">0</span></p>
            <p>Längste Streak: <span id="best-streak">0</span></p>
            <p>Verdiente Badges: <span id="earned-badges">0</span>/4</p>
        </div>

        <!-- Achievement popup -->
        <div class="achievement-popup" id="achievement-popup">
            <h2 id="achievement-title">Achievement Unlocked!</h2>
            <div class="badge-icon" id="achievement-icon">🏆</div>
            <p id="achievement-description">Du hast etwas Großartiges erreicht!</p>
            <button onclick="closeAchievementPopup()">Super!</button>
        </div>
        <div class="overlay" id="overlay"></div>

        <!-- Bonus-Popup -->
        <div class="bonus-popup" id="bonus-popup"></div>
    </div>

    <script>
        // Previous JavaScript code remains the same...
        // Rest of your JavaScript code...
    </script>
</body>
</html>
